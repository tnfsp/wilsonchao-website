# UI/UX Pro Max 技巧分析報告

**分析時間**: 2026-01-21 12:14
**輸入技巧**: UI/UX Pro Max 設計系統與 Next.js 最佳實踐
**掃描專案**: wilsonchao.com (Next.js 16 個人網站)

---

## 技巧要點

從 UI/UX Pro Max 技巧庫中提取的核心概念:

### Next.js 最佳實踐
1. **使用 Server Components 作為預設** - 減少客戶端 JS bundle
2. **明確配置快取** (Next.js 15+) - fetch 預設改為 uncached
3. **使用 next/image** - 自動優化與 lazy loading
4. **使用 next/font** - 零 layout shift 的字型載入
5. **正確處理 metadata** - 使用 generateMetadata 或 metadata export
6. **使用 Server Actions** 進行表單提交與資料變更
7. **適當的錯誤處理** - 使用 error.tsx 和 loading.tsx

### UI/UX 通用原則
8. **禁用 emoji 作為 icon** - 使用 SVG icon library (Heroicons/Lucide)
9. **可點擊元素需要 cursor-pointer**
10. **明確的 hover 狀態** - 提供視覺回饋但不造成 layout shift
11. **充足的 touch target** - 最小 44x44px
12. **可見的 focus states** - 鍵盤導航必須
13. **尊重 prefers-reduced-motion**
14. **避免 layout shift** - 為動態內容保留空間
15. **明確的 loading states** - 操作超過 300ms 需顯示載入狀態
16. **合適的對比度** - 文字最低 4.5:1

---

## 可優化處

### 1. ✅ 使用 Next.js 16 Server Components (已正確)

- **位置**: 專案整體架構
- **現況**: 專案已正確使用 Server Components 作為預設,只在需要互動的組件標註 `"use client"`
- **評估**: 架構正確,無需改善
- **優先順序**: N/A

---

### 2. ⚠️ 缺少明確的快取配置 (Next.js 15+ 重要變更)

- **位置**: `app/page.tsx:21-26`
- **現況**: 使用 `Promise.all` 載入資料但未明確配置快取策略
  ```typescript
  const [siteCopy, blogEntries, projects, murmur] = await Promise.all([
    loadSiteCopy(),
    loadBlogEntries(),
    loadProjects(),
    loadMurmurEntries(),
  ]);
  ```
- **建議**: 在 `lib/content.ts` 的 fetch 呼叫中明確設定 `cache: 'force-cache'` 或使用適當的 `revalidate` 時間
- **優先順序**: **High** (Next.js 15+ 預設行為改變)

---

### 3. ⚠️ next/image 缺少 remotePatterns 配置

- **位置**: `next.config.ts:3-7`
- **現況**: Next.js config 未配置 `remotePatterns` 來白名單外部圖片來源
- **建議**: 若有使用外部圖片 (如 Notion 圖片),需在 config 中明確配置:
  ```typescript
  images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: '*.amazonaws.com',
      },
    ],
  }
  ```
- **優先順序**: **Medium** (取決於是否使用外部圖片)

---

### 4. ⚠️ Image 組件使用 unoptimized 失去優化優勢

- **位置**: `app/blog/[slug]/page.tsx:148`
- **現況**:
  ```tsx
  <Image
    src={heroImage}
    alt={entry.title}
    width={1200}
    height={630}
    className="w-full object-cover"
    sizes="100vw"
    unoptimized  // ← 失去 Next.js 圖片優化
    priority={false}
  />
  ```
- **建議**: 移除 `unoptimized` prop,讓 Next.js 自動優化圖片。如果圖片來自外部來源,配置 `remotePatterns` 而非使用 `unoptimized`
- **優先順序**: **High** (效能影響)

---

### 5. ✅ 字型使用正確 (已正確使用 next/font)

- **位置**: `app/layout.tsx:9-17`
- **現況**: 已正確使用 `next/font/google` 引入 Geist 字型
- **評估**: 實作正確,無需改善
- **優先順序**: N/A

---

### 6. ✅ Metadata 處理正確

- **位置**: `app/layout.tsx:19-31`, `app/blog/[slug]/page.tsx:16-53`
- **現況**: 正確使用 static `metadata` export 和 `generateMetadata` 函式
- **評估**: 實作正確,無需改善
- **優先順序**: N/A

---

### 7. ⚠️ 缺少 loading.tsx 和 error.tsx

- **位置**: `app/` 目錄結構
- **現況**: 專案中未找到 `loading.tsx` 或 `error.tsx` 檔案
- **建議**:
  - 在 `app/loading.tsx` 建立全域載入狀態
  - 在 `app/error.tsx` 建立錯誤邊界
  - 在關鍵路由如 `app/blog/[slug]/loading.tsx` 提供更細緻的載入 UI
- **優先順序**: **Medium** (UX 改善)

---

### 8. ⚠️ 按鈕缺少 cursor-pointer

- **位置**: `components/ui/LikeButton.tsx:64-78`
- **現況**:
  ```tsx
  <button
    type="button"
    onClick={handleClick}
    disabled={liked || submitting}
    className={`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-sm transition-colors ${
      // ... 但未包含 cursor-pointer
    }`}
  >
  ```
- **建議**: 在 className 中加入 `cursor-pointer` (未 disabled 時) 或 `cursor-not-allowed` (disabled 時)
- **優先順序**: **Low** (按鈕預設有 pointer cursor,但明確宣告更好)

---

### 9. ⚠️ 表單按鈕缺少明確的 loading 狀態

- **位置**: `components/ui/LikeButton.tsx:45-61`
- **現況**: 按鈕在 `submitting` 時 disabled 但未顯示視覺化載入指示
- **建議**: 在 submitting 時顯示 spinner 或改變按鈕文字:
  ```tsx
  <span>{submitting ? "..." : label}</span>
  ```
  或使用一個小型 spinner icon
- **優先順序**: **Medium** (UX 回饋)

---

### 10. ✅ 行動版 menu toggle 有適當的 ARIA 屬性

- **位置**: `components/layout/SiteHeader.tsx:70-81`
- **現況**: 已正確使用 `aria-expanded` 和 `aria-label`
- **評估**: 無障礙處理正確
- **優先順序**: N/A

---

### 11. ⚠️ 缺少 prefers-reduced-motion 處理

- **位置**: `app/globals.css:294`, `components/layout/SiteHeader.tsx:78`
- **現況**: 有使用 transition 和 transform 動畫,但未檢查 `prefers-reduced-motion`
- **建議**: 在 CSS 中加入:
  ```css
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  ```
- **優先順序**: **High** (無障礙必須項目)

---

### 12. ⚠️ hover 效果可能造成 layout shift

- **位置**: `app/page.tsx:87` 和 `app/page.tsx:161`
- **現況**:
  ```tsx
  className="surface-card px-5 py-4 transition-transform hover:-translate-y-0.5"
  ```
- **評估**: `hover:-translate-y-0.5` 是使用 `transform`,不會造成 layout shift,實作正確 ✅
- **優先順序**: N/A

---

### 13. ⚠️ 缺少明確的 touch target 尺寸保證

- **位置**: `components/layout/SiteHeader.tsx:37-43` (導航連結)
- **現況**: 導航連結使用 `px-2 py-1`,可能在行動裝置上 touch target 過小
- **建議**: 確保行動版至少有 `min-h-[44px]` 和適當 padding
  ```tsx
  className="rounded-full px-3 py-2 md:px-2 md:py-1 transition-colors hover:bg-[var(--highlight)]/60 hover:text-[var(--accent)]"
  ```
- **優先順序**: **Medium** (行動體驗)

---

### 14. ⚠️ 缺少 skip navigation link

- **位置**: `app/layout.tsx` 或 `components/layout/SiteHeader.tsx`
- **現況**: 未提供 "Skip to main content" 連結
- **建議**: 在 header 前加入:
  ```tsx
  <a href="#main-content" className="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-white">
    Skip to main content
  </a>
  ```
  並在 `<main>` 加上 `id="main-content"`
- **優先順序**: **Medium** (無障礙改善)

---

### 15. ⚠️ 色彩對比需檢查

- **位置**: `app/globals.css:9` (muted color)
- **現況**:
  ```css
  --muted: #005f73;
  ```
  在 `--background: #f8f4ea` 背景上
- **建議**: 使用工具如 WebAIM Contrast Checker 確認 `#005f73` 在 `#f8f4ea` 背景上達到 4.5:1 對比度 (初步目測應該沒問題,但需確認)
- **優先順序**: **Medium** (無障礙檢查)

---

### 16. ⚠️ 缺少環境變數驗證

- **位置**: 專案根目錄
- **現況**: 使用 `process.env.NEXT_PUBLIC_UMAMI_WEBSITE_ID` 但未在啟動時驗證
- **建議**: 建立 `lib/env.ts` 並在應用啟動時驗證必要的環境變數:
  ```typescript
  if (!process.env.NEXT_PUBLIC_UMAMI_WEBSITE_ID) {
    throw new Error("Missing NEXT_PUBLIC_UMAMI_WEBSITE_ID");
  }
  ```
- **優先順序**: **Medium** (開發體驗)

---

### 17. ✅ 使用 dangerouslySetInnerHTML 但有適當處理

- **位置**: `app/blog/[slug]/page.tsx:162`
- **現況**: 使用 `dangerouslySetInnerHTML` 但內容來自受信任的 Notion API
- **評估**: 如果內容完全由你控制,風險可接受。但建議考慮使用 DOMPurify sanitize
- **優先順序**: **Low** (取決於內容來源信任度)

---

## 總結

- 共找到 **12** 處可優化項目
- 建議優先處理：
  1. **High**: 加入 `prefers-reduced-motion` 支援 (#11)
  2. **High**: 移除 Image 的 `unoptimized` prop (#4)
  3. **High**: 在資料載入函式中明確設定快取策略 (#2)
  4. **Medium**: 加入 `loading.tsx` 和 `error.tsx` (#7)
  5. **Medium**: 為 LikeButton 加入視覺化 loading 狀態 (#9)
  6. **Medium**: 確保行動版 touch target 尺寸 (#13)
  7. **Medium**: 加入 skip navigation link (#14)

- 預估影響：
  - **無障礙**: 改善 #11 (motion), #14 (skip link), #15 (contrast) 將大幅提升無障礙性
  - **效能**: 改善 #2 (cache) 和 #4 (image optimization) 將改善載入速度
  - **UX**: 改善 #7 (loading UI) 和 #9 (button feedback) 將改善使用者體驗

---

## 補充說明

### 已正確實作的項目 ✅

專案在以下方面已經做得很好:
- Server Components 架構正確
- next/font 使用正確
- Metadata API 使用正確
- 基本無障礙 (alt text, aria labels)
- 使用 transform 而非 layout-shifting properties
- 行動版導航 ARIA 屬性正確

### 推薦的改善順序

1. **第一階段** (1-2 小時):
   - 加入 prefers-reduced-motion CSS (#11)
   - 移除 unoptimized prop (#4)
   - 為資料載入加入快取配置 (#2)

2. **第二階段** (2-3 小時):
   - 建立 loading.tsx 和 error.tsx (#7)
   - 改善 LikeButton loading state (#9)
   - 加入 skip navigation link (#14)

3. **第三階段** (可選,1-2 小時):
   - 增大行動版 touch targets (#13)
   - 驗證色彩對比並調整 (#15)
   - 加入環境變數驗證 (#16)

---

**報告產出時間**: 2026-01-21 12:14
**產出工具**: Claude Code `/analyze` skill
**分析基於**: UI/UX Pro Max (github.com/nextlevelbuilder/ui-ux-pro-max-skill)
